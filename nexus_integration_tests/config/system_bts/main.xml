<root main_tree_to_execute="main">
  <BehaviorTree ID="main">
    <ReactiveSequence>
      <!--IsPauseTriggered paused="{paused}"/-->
      <!--PausableSequence pause="{paused}"-->
      <Parallel success_threshold="-1">
        <!-- Iterates over all task assignments and dispatches an AMR -->
        <Sequence>
          <DispatchTransporter name="bid_amr_transporter" result="{amr_transporter}" transport_task="{transport_task}"/>
          <WorkcellRequest name="amr_request" workcell="{amr_transporter}" task="{transport_task}"/>
        </Sequence>
        <ForEachTask task="{task}" workcell="{workcell}">
          <ExecuteTask task="{task}" workcell="{workcell}"/>
        </ForEachTask>
      </Parallel>
      <!--/PausableSequence-->
    </ReactiveSequence>
  </BehaviorTree>
</root>
